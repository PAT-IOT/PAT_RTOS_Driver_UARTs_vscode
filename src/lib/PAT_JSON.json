//////////////////////////////////////////////////////////////////////////////////////////////////////
{
  "comment": "دستور خاموش یا روشن کردن"
}

{
  "timestamp": 164521452,
  "type": "action_relay",
  "relay": [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]
}


{
  "timestamp": 164521452,
  "type": "action_relay",
  "relay": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0],
  "mode": ['s', 'a', 'a', 'a', 's', 'a', 'a', 's', 'a', 'a', 's', 'a']
}




//////////////////////////////////////////////////////////////////////////////////////////////////////
{
  "comment": "درخواست اعلام وضعیت همه کانال های یک رله"
}
{
  "timestamp": 164521452,
  "type": "report_relay",
}


{
  "timestamp": 164521452,
  "type": "report_relay",
  "value": "relay.status",
  "topic": "IOT_Controller/0512654",
  "relay": [0,1,1,0,1,0,0,0,0,1,1,0]
}
//////////////////////////////////////////////////////////////////////////////////////////////////////
{
  "comment": "تنظیم ساعات قطع و وصل شدن رله ها"
}
{
  "timestamp": 164521452,
  "type": "weeklySchedule",
  "value": {
    "monday": [
      {"time": "08:50:00", "value": "relay.turnOn", "channels": [1, 9, 6]},
      {"time": "10:30:00", "value": "relay.turnOff", "channels": [8]},
      {"time": "11:15:00", "value": "relay.turnOn", "channels": [8]}
    ],
    "tuesday": [
      {"time": "08:15:00", "value": "relay.turnOn", "channels": [8, 9, 2, 4]},
      {"time": "11:30:00", "value": "relay.turnOn", "channels": [9, 4]}
    ],
    "wednesday": [
      {"time": "09:00:00", "value": "relay.turnOn", "channels": [7, 6]}
    ],
    "thursday": [
      {"time": "08:50:00", "value": "relay.turnOn", "channels": [8, 6, 4]},
      {"time": "11:45:00", "value": "relay.turnOff", "channels": [2, 5, 11]},
      {"time": "13:30:00", "value": "relay.turnOn", "channels": [3, 7, 6]}
    ],
    "friday": [
      {"time": "09:30:00", "value": "relay.turnOn", "channels": [10, 9, 2]}
    ],
    "saturday": [
      {"time": "08:30:00", "value": "relay.turnOn", "channels": [9, 5]},
      {"time": "10:15:00", "value": "relay.turnOff", "channels": [1, 2, 3, 4]},
      {"time": "11:30:00", "value": "relay.turnOff", "channels": [8, 6, 2]},
      {"time": "14:00:00", "value": "relay.turnOn", "channels": [8, 9, 6]}
    ],
    "sunday": [
      {"time": "08:45:00", "value": "relay.turnOn", "channels": [8, 9, 6, 12]},
      {"time": "10:45:00", "value": "relay.turnOff", "channels": [8, 12]},
      {"time": "11:45:00", "value": "relay.turnOn", "channels": [8, 3, 4]}
    ]
  }
}

{
  "timestamp": 164521452,
  "type": "weeklySchedule",
  "weeklySchedule": {
    "sunday": [
      {"time": "08:45:00", "relay": [1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1]},
      {"time": "10:45:00", "relay": [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1]},
      {"time": "11:45:00", "relay": [0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1]}
    ]
  }
}
//////////////////////////////////////////////////////////////////////////////////////////////////////
{
  "timestamp": 164521452,
  "type":"weeklySchedule",
  "value": {
    "monday": [
      {"t":"08:50:00","v":"on","ch":[1,9,6]},
      {"t":"10:30:00","v":"off","ch":[8]},
      {"t":"11:15:00","v":"on","ch":[8]}
    ],
    "tuesday": [
      {"t":"08:15:00","v":"on","ch":[8,9,2,4]},
      {"t":"10:45:00","v":"off","ch":[8,6]},
      {"t":"11:30:00","v":"on","ch":[9,4]}
    ],
    "wednesday": [
      {"t":"09:00:00","v":"on","ch":[7,6]},
      {"t":"10:45:00","v":"off","ch":[1,3]},
      {"t":"12:00:00","v":"on","ch":[3,2]}
    ],
    "thursday": [
      {"t":"08:50:00","v":"on","ch":[8,6,4]},
      {"t":"11:45:00","v":"off","ch":[2,5,11]},
      {"t":"13:30:00","v":"on","ch":[3,7,6]}
    ],
    "friday": [
      {"t":"09:30:00","v":"on","ch":[10,9,2]},
      {"t":"11:15:00","v":"off","ch":[11]},
      {"t":"12:45:00","v":"on","ch":[8,9,7]}
    ],
    "saturday": [
      {"t":"08:30:00","v":"on","ch":[9,5]},
      {"t":"10:15:00","v":"off","ch":[1,2,3,4]},
      {"t":"11:30:00","v":"off","ch":[8,6,2]},
      {"t":"14:00:00","v":"on","ch":[8,9,6]}
    ],
    "sunday": [
      {"t":"08:45:00","v":"on","ch":[8,9,6,12]},
      {"t":"10:45:00","v":"off","ch":[8,12]},
      {"t":"11:45:00","v":"on","ch":[8,3,4]}
    ]
  }
}


//////////////////////////////////////////////////////////////////////////////////////////////////////
{
  "comment": "اعلام ساعت از طرف بکند به رله ها"
}
{
  "timestamp": 16784564133,
  "type": "setDateTime",
  "value": "2023-11-19 19:54:51"
}
//////////////////////////////////////////////////////////////////////////////////////////////////////
{
  "timestamp": 164521452,
  "type": "weeklySchedule",
  "weeklySchedule": {
    "sunday": [
      {"time": "15:20:00", "relay": [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]},
      {"time": "15:50:00", "relay": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]}
    ]
  }
}


{
  "timestamp": 164521452,
  "type": "weeklySchedule",
  "weeklySchedule": {
    "sunday": [
      {"time": "10:00:00", "relay": [0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1]},
      {"time": "11:00:00", "relay": [0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "12:00:00", "relay": [0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1]},
      {"time": "13:00:00", "relay": [0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "14:00:00", "relay": [0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1]},
      {"time": "15:00:00", "relay": [0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "16:00:00", "relay": [0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1]},
      {"time": "17:00:00", "relay": [1, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "23:00:00", "relay": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]}
    ]
  }
}





{
  "timestamp": 16784564133,
  "type": "setDateTime",
  "value": "2023-11-19 16:32:00"
}


{
  "timestamp": 164521452,
  "type": "action_relay",
  "relay": [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1]
}


{
  "timestamp": 164521452,
  "type": "action_relay",
  "relay": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]
}


{
  "timestamp": 164521452,
  "type": "weeklySchedule",
  "weeklySchedule": {
    "sunday": [
      {"time": "09:00:00", "relay": [0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "14:00:00", "relay": [0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1]},
      {"time": "15:00:00", "relay": [0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "16:00:00", "relay": [0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1]},
      {"time": "23:00:00", "relay": [1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "23:30:00", "relay": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]}
    ]
  }
}

{
  "timestamp": 164521452,
  "type": "weeklySchedule",
  "weeklySchedule": {
    "monday": [
      {"time": "09:00:00", "relay": [1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1]},
      {"time": "23:30:00", "relay": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]}
    ]
  }
}
# Name   ,Type ,SubType ,Offset   ,Size     ,Flags

nvs      ,data ,nvs     ,0x9000   ,0x5000   ,
# Non-Volatile Storage (NVS) partition, 20KB, used for storing configuration data

otadata  ,data ,ota     ,0xe000   ,0x2000   ,
# OTA data partition, 8KB, used for storing data related to Over-The-Air updates

app0     ,app  ,ota_0   ,0x10000  ,0x1F0000 ,
# Application partition 0, 1.9375MB, for storing the main application firmware

app1     ,app  ,ota_1   ,0x210000 ,0x1F0000 ,
# Application partition 1, 1.9375MB, for storing an alternative application firmware

eeprom   ,data ,0x99    ,0x400000 ,0x19000  ,
# Emulated EEPROM, 100KB, used for non-volatile storage of small amounts of data

spiffs   ,data ,spiffs  ,0x419000 ,0x2E700  ,
# SPIFFS (SPI Flash File System), 184KB, used for file storage on flash memory


#Total allocated memory = 0x5000 + 0x2000 + 0x1F0000 + 0x1F0000 + 0x19000 + 0x2E700 = 4312320 bytes -> 4Mb

