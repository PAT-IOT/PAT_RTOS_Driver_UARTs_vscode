#ifndef __PAT_NRF24_h__
#define __PAT_NRF24_h__

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// struct __attribute__((packed)) struct_NRF24 // Note the packed attribute.
// {
//   uint32_t timestamp = 0;
//   char type[] = "action_remote";
//   uint8_t relayR[12];
// };

// {
//   "timestamp": 1645214520,
//     "type" : "action_remote",
//     "relay" : [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]
// }

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
typedef enum {
  NRF_NOT_FOUND = 0,   
  NRF_SCAN_COMPLETED = 2,
  NRF_CONNECTED = 3,
  NRF_CONNECT_FAILED = 4,
  NRF_CONNECTION_LOST = 5,
  NRF_DISCONNECTED = 6
} NRF_status_t;
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct __attribute__((packed)) struct_NRF24 // Note the packed attribute.
{
  char starter = '{';
  uint32_t timestamp = 0;
  uint8_t relayR[12] = { 0,0,0,0,0,0,0,0,0,0,0,0 };
  char ender = '}';
};

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class Class_NRF24 {
private:
  struct_NRF24 vdata;
public:
  NRF_status_t status_t;
  uint8_t onMessage;
  uint8_t flag;
  struct_NRF24 data;


  Class_NRF24() {
    //data.channel = { 0,0,0,0,0,0,0,0,0,0,0,0 };
  }

  NRF_status_t init(void);
  NRF_status_t status(void);
  void println(char* str);
  void print(char *str);
  int scan(void);
  int scanInt(void);
};
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#endif  // __PAT_NRF24_h__